<!--사용자 정의 filter 불러오기-->
{% load time_table_extras %}
{% load static %}
<!--list_schedule css파일 불러오기-->
<link rel="stylesheet" type="text/css" href="{% static 'list_schedule.css' %}">
<!--weekly_schedule css파일 불러오기-->
<link rel="stylesheet" type="text/css" href="{% static 'weekly_schedule.css' %}">

<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <link rel="apple-touch-icon" sizes="76x76" href="{% static 'img/apple-icon.png' %}">
  <link rel="icon" type="image/png" href="{% static 'img/favicon.png' %}">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <title>
    Team Aha!
  </title>
  <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no' name='viewport' />
  <!--     Fonts and icons     -->
  <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700,200" rel="stylesheet" />
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" rel="stylesheet">
  <!-- CSS Files -->
  <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet" />
  <link href="{% static 'css/paper-dashboard.css' %}" rel="stylesheet" />
</head>

<body class="">
  <div class="wrapper ">
    <div class="main-panel" style="height: 100vh;">
      <div class="content">
          <div>
              <form method="post" action="{% url 'time_table:schedule' %}">
                  {% csrf_token %}
                  <button type="submit">시간표 페이지로 돌아가기</button>
              </form>
          </div>
          <div class="mb-3">
              <h3 class="mt-0 mb-3 text-dark op-8 font-weight-bold">
                  {{assignment.context}}: {{assignment.name}}
              </h3>
              <h5 class="mt-0 mb-3 text-dark op-8 font-weight-bold">
                  시간 추천
              </h5>
          </div>
<!--          가능한 시간들 표시. 날짜&시작시간. checkbox로 선택한 일정 생성.-->
          <form method="post" action="{% url 'time_table:add_assignment_schedule' assignment.id %}">
            {% csrf_token %}
            <div style="overflow:auto; height: 65vh;">
              <table class="table table-striped">
                  <thead>
                  <tr>
                      <th>날짜</th><th>시작시간</th><th>끝나는시간</th>
                  </tr>
                  </thead>
                  <tbody>
                  {% if data %}
                  {% for data in class %}
                  <tr>
                      <td><label><input type="checkbox" name="add_schedule" value={{data}}>{{ data.context }}</label></td>
                      <td>{{ data.name }}</td>
                      <td>{{ data.content }}요일 {{ data.start_h }}:00 ~ {{ data.end_h }}:00</td>
                  </tr>
                  {% endfor %}
                  {% else %}
                  <tr>과제할 수 있는 시간이 없습니다.</tr>
                  {% endif %}
                  </tbody>
              </table>
            </div>
            <button type="submit">이 일정으로 생성하기</button>
          </form>
      </div>
        <footer class="footer" style="position: absolute; bottom: 0; width: -webkit-fill-available;">
            <div class="container-fluid">
                <div class="row">
                    <nav class="footer-nav">
                        <ul>
                            <li><a href="https://www.creative-tim.com" target="_blank">Creative Tim</a></li>
                            <li><a href="https://www.creative-tim.com/blog" target="_blank">Blog</a></li>
                            <li><a href="https://www.creative-tim.com/license" target="_blank">Licenses</a></li>
                        </ul>
                    </nav>
                    <div class="credits ml-auto">
                        <span class="copyright">
                            © 2021, made with <i class="fa fa-heart heart"></i> by Aha
                        </span>
                    </div>
                </div>
            </div>
        </footer>
    </div>
  </div>
</body>

</html>
